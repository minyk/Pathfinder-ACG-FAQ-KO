{"version":3,"sources":["../src/plugin.js"],"names":[],"mappings":";AACA,YAAY,CAAC;;;;AACb,OAAO,CAAC,CAAC,SAAS,CAAC,EAAE,UAAU,OAAO,EAAE;AACpC,aAAS,eAAe,CAAC,OAAO,EAAE;AAC9B,cAAM,CAAC,mBAAmB,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAA;KAC9C;;AAED,aAAS,YAAY,CAAC,IAMjB,EAAE;YALH,IAAI,GADc,IAMjB,CALD,IAAI;YACJ,IAAI,GAFc,IAMjB,CAJD,IAAI;YACJ,IAAI,GAHc,IAMjB,CAHD,IAAI;YACJ,IAAI,GAJc,IAMjB,CAFD,IAAI;YACJ,KAAK,GALa,IAMjB,CADD,KAAK;;AAEL,YAAI,KAAK,GAAG,IAAI,KAAK,OAAO,GAAG,KAAK,GAAG,KAAK,CAAC;AAC7C,YAAI,MAAM,GAAG,IAAI,KAAK,OAAO,GAAG,IAAI,GAAG,IAAI,CAAC;AAC5C,YAAI,UAAU,GAAG,IAAI,KAAK,OAAO,GAAG,MAAM,GAAG,EAAE,CAAC;AAChD,qLAC2G,IAAI,cAAS,IAAI,cAAS,IAAI,eAAU,KAAK,cAAS,IAAI,GAAG,UAAU,+CAA0C,KAAK,oBAAe,MAAM,iCAChP;KACT;;AAGD,aAAS,gBAAgB,CAAC,KAMrB,EAAE;YALH,IAAI,GADkB,KAMrB,CALD,IAAI;YACJ,IAAI,GAFkB,KAMrB,CAJD,IAAI;YACJ,KAAK,GAHiB,KAMrB,CAHD,KAAK;YACL,IAAI,GAJkB,KAMrB,CAFD,IAAI;YACJ,KAAK,GALiB,KAMrB,CADD,KAAK;;AAEL,aAAK,CAAC,OAAO,EAAE,CAAC,OAAO,CAAC,UAAA,IAAI,EAAI;AAC5B,gBAAI,aAAa,GAAG,YAAY,CAAC;AAC7B,oBAAI,EAAJ,IAAI;AACJ,oBAAI,EAAJ,IAAI;AACJ,oBAAI,EAAJ,IAAI;AACJ,oBAAI,EAAJ,IAAI;AACJ,qBAAK,EAAL,KAAK;aACR,CAAC,CAAC;AACH,2BAAe,CAAC,aAAa,CAAC,CAAC;SAClC,CAAC,CAAC;KACN;;AAED,aAAS,IAAI,CAAC,MAAM,EAAE;AAClB,YAAI,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAC;;8BACR,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC;;;;YAAjC,IAAI;YAAE,IAAI;;AACf,YAAI,QAAQ,IAAI,IAAI,EAAE;AAClB,mBAAO,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;AACtC,mBAAO;SACV;AACD,YAAI,KAAK,GAAG,MAAM,CAAC,KAAK,IAAI,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;AAC9C,YAAI,IAAI,GAAG,MAAM,CAAC,IAAI,IAAI,OAAO,CAAC;AAClC,YAAI,KAAK,GAAG,OAAO,MAAM,CAAC,KAAK,KAAK,WAAW,GAAG,MAAM,GAAG,OAAO,CAAC;AACnE,wBAAgB,CAAC;AACb,gBAAI,EAAJ,IAAI;AACJ,gBAAI,EAAJ,IAAI;AACJ,iBAAK,EAAL,KAAK;AACL,gBAAI,EAAJ,IAAI;AACJ,iBAAK,EAAL,KAAK;SACR,CAAC,CAAC;KACN;;;AAGD,aAAS,eAAe,GAAG;AACvB,eAAO,MAAM,CAAC,+BAA+B,CAAC,CAAC;KAClD;;AAED,WAAO,CAAC,MAAM,CAAC,IAAI,CAAC,aAAa,EAAE,YAAY;AAC3C,YAAI,CAAC,eAAe,EAAE,CAAC,CAAC;KAC3B,CAAC,CAAC;CACN,CAAC,CAAC","file":"plugin.js","sourcesContent":["// LICENSE : MIT\n\"use strict\";\nrequire(['gitbook'], function (gitbook) {\n    function addBeforeHeader(element) {\n        jQuery('.book-header > h1').before(element)\n    }\n\n    function createButton({\n        user,\n        repo,\n        type,\n        size,\n        count\n        }) {\n        var width = size === \"large\" ? \"170\" : \"160\";\n        var height = size === \"large\" ? \"30\" : \"20\";\n        var extraParam = type === \"watch\" ? \"&v=2\" : \"\";\n        return `<a class=\"btn pull-right\" aria-label=\"github\">\n        <iframe style=\"display:inline-block;vertical-align:middle;\" src=\"https://ghbtns.com/github-btn.html?user=${user}&repo=${repo}&type=${type}&count=${count}&size=${size}${extraParam}\" frameborder=\"0\" scrolling=\"0\" width=\"${width}px\" height=\"${height}px\"></iframe>\n        </a>`;\n    }\n\n\n    function insertGitHubLink({\n        user,\n        repo,\n        types,\n        size,\n        count\n        }) {\n        types.reverse().forEach(type => {\n            var elementString = createButton({\n                user,\n                repo,\n                type,\n                size,\n                count\n            });\n            addBeforeHeader(elementString);\n        });\n    }\n\n    function init(config) {\n        var repoPath = config.repo;\n        var [user, repo] = repoPath.split(\"/\");\n        if (repoPath == null) {\n            console.log(\"Should set github.repo\");\n            return;\n        }\n        var types = config.types || [\"star\", \"watch\"];\n        var size = config.size || \"large\";\n        var count = typeof config.count === \"undefined\" ? \"true\" : \"false\";\n        insertGitHubLink({\n            user,\n            repo,\n            types,\n            size,\n            count\n        });\n    }\n\n    // injected by html hook\n    function getPluginConfig() {\n        return window[\"gitbook-plugin-github-buttons\"];\n    }\n\n    gitbook.events.bind('page.change', function () {\n        init(getPluginConfig());\n    });\n});\n"]}